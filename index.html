<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Econograph — History of Economic Thought</title>
  <meta name="description" content="Explore 1,600+ economists across time, school of thought, and intellectual lineage.">
  <link rel="stylesheet" href="css/main.css">
</head>
<body>

  <div id="app">

    <!-- ── SIDEBAR ─────────────────────────────────────────── -->
    <aside id="sidebar">
      <div class="brand">
        <div class="brand-mark">E</div>
        <div>
          <div class="brand-name">Econograph</div>
          <div class="brand-sub">History of Economic Thought</div>
        </div>
      </div>

      <div class="sidebar-search">
        <svg class="search-icon" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="8.5" cy="8.5" r="5.5"/><path d="M15 15l-3-3"/>
        </svg>
        <input id="search" type="search" placeholder="Search economists…" autocomplete="off">
      </div>

      <div class="sidebar-section">
        <div class="sidebar-label">School of Thought</div>
        <div id="school-filters" class="school-filter-list">
          <!-- populated by JS -->
        </div>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-label">Era</div>
        <div id="era-filters" class="era-filter-list">
          <!-- populated by JS -->
        </div>
      </div>

      <div class="sidebar-footer">
        <span id="count-display">— economists</span>
        <div class="sidebar-footer-btns">
          <button id="reset-btn" class="reset-btn">Reset filters</button>
          <button id="surprise-btn" class="surprise-btn">
            <svg viewBox="0 0 16 16" fill="currentColor" width="12" height="12"><path d="M8 1a7 7 0 100 14A7 7 0 008 1zm.75 10.5h-1.5v-1.5h1.5v1.5zm0-3h-1.5V4.5h1.5V8.5z"/></svg>
            Surprise me
          </button>
          <a href="about.html" class="surprise-btn" style="text-decoration:none">
            <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.6" width="12" height="12"><circle cx="8" cy="8" r="6"/><path d="M8 7v5M8 5.5v.5"/></svg>
            Methodology
          </a>
          <button id="debates-open-btn" class="surprise-btn debates-sidebar-btn" title="Explore recurring intellectual debates">
            <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.6" width="12" height="12"><path d="M2 4h12M2 8h8M2 12h10"/><circle cx="13" cy="8" r="2.5" fill="currentColor" stroke="none"/></svg>
            Debates
          </button>
        </div>
      </div>
    </aside>

    <!-- ── MOBILE HEADER (hidden on desktop) ─────────────── -->
    <header id="mobile-header">
      <div class="mobile-brand">
        <span class="brand-mark-sm">E</span>
        <span class="mobile-title">Econograph</span>
      </div>
      <button id="mobile-filter-btn" class="mobile-filter-btn">
        <svg viewBox="0 0 20 20" fill="currentColor" width="18" height="18">
          <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3 5a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm2 5a1 1 0 011-1h2a1 1 0 110 2h-2a1 1 0 01-1-1z" clip-rule="evenodd"/>
        </svg>
        Filters
      </button>
    </header>

    <!-- ── MOBILE FILTER DRAWER ───────────────────────────── -->
    <div id="mobile-filter-overlay" class="hidden"></div>
    <div id="mobile-filter-drawer" class="hidden">
      <div class="drawer-handle-bar"></div>
      <div class="drawer-inner">
        <div class="drawer-search">
          <input id="mobile-search" type="search" placeholder="Search economists…" autocomplete="off">
        </div>
        <div class="drawer-section">
          <div class="drawer-label">School of Thought</div>
          <div id="mobile-school-filters" class="school-filter-list dark"></div>
        </div>
        <div class="drawer-section">
          <div class="drawer-label">Era</div>
          <div id="mobile-era-filters" class="era-filter-list dark"></div>
        </div>
        <button id="mobile-reset-btn" class="reset-btn light">Reset</button>
      </div>
    </div>

    <!-- ── TIMELINE ───────────────────────────────────────── -->
    <main id="timeline-pane">
      <div id="timeline-scroll">
        <div id="timeline-list">
          <!-- populated by JS -->
        </div>
      </div>
    </main>

    <!-- ── DETAIL PANEL ───────────────────────────────────── -->
    <aside id="detail-panel" class="detail-hidden">

      <!-- mobile drag handle -->
      <div class="detail-drag-handle" id="detail-drag-handle">
        <div class="handle-pill"></div>
      </div>

      <div id="detail-scroll">
        <div class="detail-top-bar">
          <button id="detail-close" aria-label="Close">
            <svg viewBox="0 0 20 20" fill="currentColor" width="20" height="20">
              <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
            </svg>
          </button>
        </div>

        <div class="detail-hero">
          <div class="detail-photo-wrap">
            <img id="detail-img" src="" alt="" onerror="this.style.display='none'">
            <div id="detail-img-placeholder" class="detail-img-placeholder"></div>
          </div>
          <div class="detail-hero-info">
            <h2 id="detail-name"></h2>
            <div id="detail-dates" class="detail-dates"></div>
            <span id="detail-school" class="school-pill"></span>
            <a id="detail-link" href="#" target="_blank" rel="noopener" class="wiki-link">
              View on Wikipedia ↗
            </a>
            <button id="detail-copy-link" class="detail-copy-btn" title="Copy a shareable link to this economist">
              <svg viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5" width="13" height="13"><path d="M6.5 9.5l3-3M5.5 7.5l-2 2a2.5 2.5 0 003.5 3.5l2-2M10.5 8.5l2-2a2.5 2.5 0 00-3.5-3.5l-2 2"/></svg>
              <span id="copy-link-label">Copy link</span>
            </button>
          </div>
        </div>

        <div class="detail-bio-section">
          <p id="detail-bio" class="detail-bio"></p>
        </div>

        <div class="detail-contrib-section" id="detail-contrib-section" style="display:none">
          <!-- populated by JS from n.summary and n.keywords -->
        </div>

        <div class="detail-network-section">
          <div class="section-title">Connections</div>
          <div id="mini-network"></div>
        </div>

        <div class="detail-connections-section" id="detail-connections-section">
          <!-- populated by JS -->
        </div>

      </div>
    </aside>

  </div><!-- /#app -->

  <!-- School tooltip bubble (must be before app.js runs) -->
  <div id="school-tip" role="tooltip" aria-hidden="true"></div>


  <!-- ── LANDING OVERLAY ───────────────────────────────────────── -->
  <div id="landing-overlay" class="landing-overlay">
    <!-- D3 network animation fills this -->
    <div class="landing-network"></div>
    <!-- Centered branding + CTA -->
    <div class="landing-center">
      <div class="landing-logo">E</div>
      <h1 class="landing-title">Econograph</h1>
      <p class="landing-sub">A network of 1,637 economists and their intellectual connections across 400 years of economic thought.</p>
      <div class="landing-actions" id="landing-actions">
        <button id="landing-start-btn" class="landing-start-btn">Explore the network →</button>
        <a href="about.html" class="landing-about-link">About &amp; Methodology</a>
      </div>
    </div>
  </div>

  <!-- ── INTELLECTUAL DEBATES OVERLAY ─────────────────────────── -->
  <div id="debates-overlay" class="dt-overlay dt-hidden" role="dialog" aria-label="Intellectual Debates" aria-modal="true">
    <div class="dt-panel">
      <div class="dt-panel-hd">
        <div>
          <h1 class="dt-panel-title">Intellectual Debates</h1>
          <p class="dt-panel-sub">Six recurring tensions that have shaped economic thought — and still shape policy today.</p>
        </div>
        <button id="debates-close-btn" class="dt-close-btn" aria-label="Close debates">
          <svg viewBox="0 0 20 20" fill="currentColor" width="20" height="20">
            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
          </svg>
        </button>
      </div>
      <div class="dt-panel-body" id="debates-content">
        <!-- populated by debates.js -->
      </div>
    </div>
  </div>

  <script src="js/graph_v3.js"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="js/app.js" defer></script>
  <script src="js/landing.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/minisearch@7/dist/umd/index.min.js"></script>
  <script src="js/debates.js"></script>
</body>
</html>
